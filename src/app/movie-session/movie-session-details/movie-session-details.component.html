<div class="movie-session-details-container container">
  <!--Date-->
  <div class="date-container form-group">
    <label for="date">Date:</label>
    <div class="input-group align-items-center">
      <input class="form-control m-3 w-50"
             id="date"
             placeholder="Date in DD-MM-YYYY format"
             bsDatepicker
             [bsConfig]="datepickerConfig"
             [(ngModel)]="movieSession.date"/>
      <timepicker [showMeridian]="false"
                  [(ngModel)]="movieSession.date"></timepicker>
    </div>
  </div>

  <!--Movie-->
  <div>
    <label>Movie:</label>
    <a *ngIf="movieSession.movie"
       routerLink="/{{MOVIES_ROUTE}}/{{movieSession.movie.id}}">
      {{movieSession.movie.title}}
    </a>
    <span *ngIf="!movieSession.movie">Not selected</span>
    <button class="btn btn-outline-secondary m-2"
            (click)="toggleMovieList()">
      {{isMovieListHidden ? 'Choose' : 'Hide'}}
    </button>
    <app-movie-list (movieSelect)="selectMovie($event)"
                    *ngIf="!isMovieListHidden">
    </app-movie-list>
  </div>

  <!--Cinema-->
  <div>
    <label>Cinema:</label>
    <a *ngIf="movieSession.cinema"
       routerLink="/{{CINEMAS_ROUTE}}/{{movieSession.cinema.id}}">
      {{movieSession.cinema.name}}
    </a>
    <span *ngIf="!movieSession.cinema">Not selected</span>
    <button class="btn btn-outline-secondary m-2"
            (click)="toggleCinemaList()">
      {{isCinemaListHidden ? 'Choose' : 'Hide'}}
    </button>
    <app-cinema-list (cinemaSelect)="selectCinema($event)"
                     *ngIf="!isCinemaListHidden">
    </app-cinema-list>
  </div>

  <!--Room-->
  <div *ngIf="movieSession.cinema">
    <label>Room:</label>
    <select class="custom-select"
            [(ngModel)]="movieSession.roomCodeName"
            [disabled]="isEditing">
      <option *ngFor="let room of movieSession.cinema.rooms"
              [selected]="room.codeName === movieSession.roomCodeName">{{room.codeName}}</option>
    </select>
  </div>

  <!--Price-->
  <div class="form-group">
    <label>Price:</label>
    <input class="form-control w-50"
           type="number"
           min="0"
           placeholder="Ticket price"
           [(ngModel)] = "movieSession.price"/>
  </div>

  <!--Additions-->
  <div>
    <label>Possible additions:</label>
    <button class="btn btn-outline-secondary m-2"
            (click)="toggleAdditionsList()">
      {{isAdditionsListHidden ? 'Choose' : 'Hide'}}
    </button>
    <app-additions-list (addEvent)="pushAddition($event)"
                        (removeEvent)="removeAddition($event)"
                        [added]="movieSession.additions"
                        *ngIf="!isAdditionsListHidden">
    </app-additions-list>
  </div>

  <!--After-action info-->
  <div class="alert alert-danger" *ngIf="error">
    <h5>Server Error</h5>
    <span>{{error}}</span>
  </div>
  <div class="alert alert-info" *ngIf="info">
    {{info}}
  </div>

  <div class="text-center">
    <button class="btn-primary btn"
            (click)="onSaveClick()">Save</button>
  </div>
</div>
